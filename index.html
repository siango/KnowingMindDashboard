<!doctype html>
<html lang="th">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>KnowingMind Dashboard</title>
<style>
  :root{--bg:#0f1623;--panel:#121a29;--accent:#0da3dd;--text:#e6eefc;--muted:#9bd1ff;}
  body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,sans-serif;background:var(--bg);color:var(--text);}
  .wrap{display:flex;min-height:100vh;gap:12px;padding:20px;box-sizing:border-box}
  .side{width:240px;background:var(--panel);padding:16px;border-radius:12px}
  .brand{font-weight:700;margin-bottom:12px;opacity:.9}
  .tab{display:block;width:100%;text-align:left;background:#0d1320;border:1px solid #0b1020;
       color:var(--muted);padding:10px 12px;margin:6px 0;border-radius:8px;cursor:pointer}
  .tab:hover,.tab.active{background:var(--accent);color:#00121a}
  .main{flex:1;background:var(--panel);border-radius:12px;padding:20px;overflow:auto}
  h1{margin:0 0 8px 0}
  .meta{font-size:.9rem;opacity:.85;margin:0 0 12px 0}
  pre{background:#0b1322;border:1px solid #0b1020;color:#b9d1ff;padding:14px;border-radius:8px;overflow:auto}
  .hint{margin-top:12px;font-size:.9rem;opacity:.8}
  .badge{display:inline-block;background:#0b1322;border:1px solid #0b1020;padding:2px 8px;border-radius:999px;margin-left:8px}
</style>
</head>
<body>
<div class="wrap">
  <aside class="side">
    <div class="brand">üìò KM Suite</div>
    <button class="tab active"   data-page="home">üè† Home</button>
    <button class="tab"          data-page="dashboard">üìä Dashboard</button>
    <button class="tab"          data-page="update">‚¨ÜÔ∏è Update</button>
    <button class="tab"          data-page="gas">üõ†Ô∏è GAS</button>
  </aside>

  <main class="main">
    <section id="page-home">
      <h1>KnowingMind Dashboard <span id="stamp" class="badge"></span></h1>
      <p class="meta">‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á‡∏ã‡πâ‡∏≤‡∏¢‚Äî‡∏™‡∏•‡∏±‡∏ö‡πÅ‡∏ó‡πá‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏ú‡∏• JSON ‡∏à‡∏≤‡∏Å GAS ‡∏´‡∏£‡∏∑‡∏≠‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏î‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï</p>
      <pre id="home-out">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</pre>
    </section>

    <section id="page-dashboard" hidden>
      <h1>Dashboard</h1>
      <pre id="dash-out">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</pre>
    </section>

    <section id="page-update" hidden>
      <h1>Update</h1>
      <p>‡∏û‡∏¥‡∏°‡∏û‡πå <code>km-update</code> ‡πÉ‡∏ô Termux ‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏î‡∏ß‡∏¥‡∏î‡πÄ‡∏à‡πá‡∏ï ‚Äú‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó_Dashboard‚Äù</p>
      <div class="hint">‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏à‡∏∞ trigger GitHub Pages workflow ‡πÅ‡∏•‡∏∞‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡∏µ‡πâ</div>
    </section>

    <section id="page-gas" hidden>
      <h1>GAS Test</h1>
      <pre id="gas-out">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</pre>
    </section>
  </main>
</div>

<script>
  // ‡πÅ‡∏ó‡πá‡∏ö‡∏ã‡πâ‡∏≤‡∏¢
  const tabs=[...document.querySelectorAll(".tab")];
  const sections={
    home:document.getElementById("page-home"),
    dashboard:document.getElementById("page-dashboard"),
    update:document.getElementById("page-update"),
    gas:document.getElementById("page-gas")
  };
  tabs.forEach(btn=>{
    btn.onclick=()=>{
      tabs.forEach(b=>b.classList.remove("active"));
      btn.classList.add("active");
      Object.values(sections).forEach(s=>s.hidden=true);
      sections[btn.dataset.page].hidden=false;
    }
  });

  // ‡πÄ‡∏ï‡∏¥‡∏° timestamp ‡∏ö‡∏ô‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠
  const ts=new Date(); 
  document.getElementById("stamp").textContent =
    ts.toLocaleString('th-TH',{hour12:false});

  // ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ endpoint GAS ‡πÉ‡∏´‡πâ‡πÉ‡∏™‡πà‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà (‡πÅ‡∏ö‡∏ö JSON/JSONP ‡∏Å‡πá‡πÑ‡∏î‡πâ)
  // ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: const url = 'https://script.google.com/macros/s/XXX/exec?action=dashboard';
  const urlHealth = null;     // ‡πÉ‡∏™‡πà URL health ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ
  const urlDashboard = null;  // ‡πÉ‡∏™‡πà URL dashboard ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ
  const urlGas = null;        // test endpoint

  // ‡πÅ‡∏™‡∏î‡∏á JSON ‡∏™‡∏ß‡∏¢‡πÜ
  const show = (id, data) => {
    document.getElementById(id).textContent =
      typeof data==='string' ? data : JSON.stringify(data,null,2);
  };

  // ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ñ‡πà‡∏≤ mock (‡∏Å‡∏£‡∏ì‡∏µ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ï‡∏±‡πâ‡∏á URL)
  const mock = {
    health:{ok:true,ping:"alive",file:"KMSuite_DataHub_Main",
      sheets:["‡∏ä‡∏µ‡∏ï1","Tasks","Goals","Devices","Finance_Transactions","Events_Log"],
      params:{action:"health",source:"pages"}},
    dashboard:{ok:true,ping:"alive",file:"KMSuite_DataHub_Main",
      sheets:["‡∏ä‡∏µ‡∏ï1","Tasks","Goals","Devices","Finance_Transactions","Events_Log"],
      params:{action:"dashboard"}}
  };
  show("home-out", mock);
  show("dash-out", mock.dashboard);
  show("gas-out", {note:"‡πÉ‡∏™‡πà URL GAS ‡πÅ‡∏•‡πâ‡∏ß‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏£‡∏¥‡∏á‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ"});
</script>
</body>
</html>
